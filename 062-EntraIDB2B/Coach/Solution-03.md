# Challenge 03 - Invite Guest Users in Entra ID tenant - Coach's Guide 

[< Previous Solution](./Solution-02.md) - **[Home](./README.md)** - [Next Solution >](./Solution-04.md)

## Notes & Guidance

Create a new guest user in your Entra ID tenant by clicking Invite guest user in the User screen.

Use a personal email address while creating the guest user. They should get an invitation email from Microsoft.

They can put a personal message while inviting the user.

They can accept the invitation by opening the email and click the Accept Invitation button. 

Open the [authr](https://authr.dev/?requesttype=OpenIdConnect&scope=openid+profile&responsetype=id_token&responsemode=form_post&additionalparameters=prompt%3dlogin&importtype=AzureAD&tenant=microsoft.onmicrosoft.com&clientid=your-client-id) link.

Make sure to change the tenant=microsoft.onmicrosoft.com in the query parameter to the newly created tenant. It should be tenant=yourtenantname.onmicrosoft.com

Verify that the Authorization Endpoint and the Token Endpoint reflects the change.

Copy the Client ID from the Azure Portal by navigating to Entra ID - App Registration - Overview - Application (client) ID.

Sign In using the personal email address. A One Time Passcode should be sent to the personal email address.

Once they enter the Passcode, they might be asked to create the account in the Authenticator app on their phone. Go ahead and do that.

Once they sign in, you should see the ID Token in the authr.dev site.

Check the "idp" claim. It should be "mail". Check the "iss" claim. It is still the tenant. So, for the B2B user, the Identity provider is the third party provider based on the email address they provide, but the token would be generated by the Entra ID Tenant.

Enable guest self-service sign up via user flows by navigating to External Identities - External collaboration settings.

Create the sign-up user flow for the B2B user.

Navigate to the user flow. They can add external identity providers, custom user attributes, etc. 

They could associate their application with the user flow to show to the users.
